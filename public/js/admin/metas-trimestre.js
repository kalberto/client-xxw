var app=new Vue({el:"#app",mixins:[main_mixin,message_mixin,listing_mixin],data:{route:"/admin/api/metas-trimestre",deleteRoute:"/admin/metas-trimestre/",deleteLink:"",deletedIndex:0,perfis:[],niveis:[],trimestre:[{nome:"Primeiro",value:1},{nome:"Segundo",value:2},{nome:"Terceiro",value:3},{nome:"Quarto",value:4}]},mounted:function(){this.init()},computed:{totalRegistros:function(){return this.registros&&this.registros.total?this.registros.total:0}},methods:{init:function(){this.pagination.perfil="",this.pagination.nivel="",this.pagination.trimestre="",this.setSortPagination("-created_at"),this.loadPerfis(),this.load()},loadMetasWithPerfil:function(){this.pagination.nivel="",this.loadNiveis(),this.load()},getParams:function(){return"?page="+this.pagination.page+"&limit="+this.pagination.limit+"&q="+this.pagination.q+"&sort="+this.pagination.sort+"&fields="+this.pagination.fields+"&perfil="+this.pagination.perfil+"&nivel="+this.pagination.nivel+"&trimestre="+this.pagination.trimestre},initParent:function(){this.loadPerfis()},loadPerfis:function(){this.loadItens("perfis","/admin/api/usuarios/perfis")},loadNiveis:function(){this.loadItens("niveis","/admin/api/usuarios/perfis/"+this.pagination.perfil+"/niveis")},loadItens:function(i,t){var e=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"registros",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];axios.get(this.base_url+t).then(function(t){e[i]=t.data[n],!1!==a&&(e[a]=!0)})}}});
