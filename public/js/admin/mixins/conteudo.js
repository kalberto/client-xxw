var conteudo_mixin={data:function(){return{registro:{nome:"",titulo:"",slug:"",data_inicio:"",data_fim:"",autor:"",conteudos_relacionados:[],categoria_id:"",video:!1,medias_conteudo:[],texto:"",perfil_id:""},identifiers:{medias_conteudo:{id:"img_topo_id",media:"medias_conteudo"}},perfis:[],conteudos_relacionados:[],medias_relacionadas:[],categorias:[]}},computed:{selectedMediasConteudo:function(){return this.registro.medias_conteudo.map(function(i){return i.media})}},created:function(){this.loadConteudosRelacionados(),this.loadMediasRelacionadas(),this.loadCategorias(),this.loadPerfis()},methods:{loadConteudosRelacionados:function(){var i=this;axios.get(base_url+"/admin/api/conteudos/select/"+("undefined"!=typeof id&&id?id:"")).then(function(e){i.conteudos_relacionados=e.data.registros}).catch(function(e){i.conteudos_relacionados=[]})},loadMediasRelacionadas:function(){var i=this;axios.get(base_url+"/admin/api/medias/all/"+("undefined"!=typeof id&&id?id:"")).then(function(e){i.medias_relacionadas=e.data.registros}).catch(function(e){i.medias_relacionadas=[]})},loadCategorias:function(){var i=this;axios.get(base_url+"/admin/api/categorias/all").then(function(e){i.categorias=e.data.registros}).catch(function(e){i.categorias=[]})},loadPerfis:function(){this.loadItens("perfis","/admin/api/usuarios/perfis")},loadItens:function(i,e){var t=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"registros",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];axios.get(this.base_url+e).then(function(e){t[i]=e.data[a],!1!==o&&(t[o]=!0)})},callLoadAssets:function(i){this.media_root=i,this.loadAssets()},selectMedia:function(i,e){if(console.log("pId",i),!this.registro.medias_conteudo.includes(i)){var t=this.medias.find(function(e){return e.id==i});this.registro.medias_conteudo.push({id:i,video:2==t.tipo,video_is_link:!1,video_link:"",media:t})}removeErrorMessage($("input[name='"+this.identifiers[this.media_root].id+"']"))},removeMedia:function(i){this.registro[this.identifiers[i].id]="",this.registro[this.identifiers[i].media]=!1},updateSlug:function(){this.registro.slug=this.registro.titulo},checkSlug:function(){var i=this,e=base_url+"/admin/api/conteudos/check-url"+("undefined"!=typeof id?"/"+id:"");axios.post(e,this.registro).then(function(e){e.data.field&&(i.registro.slug=e.data.field),e.data.validate&&i.insertSuccess(e.data.validate)}).catch(function(e){if(e.response.data.error_validate){var t=e.response.data.error_validate;i.errors&&(i.errors=t),i.has_errors&&(i.has_errors=[]),i.insertErrors(t)}})}}};
