var listing_mixin={data:function(){return{route:"",carregando:!1,registros:{data:[]},pagination:{page:1,limit:10,total:0,q:"",sort:"-created_at",fields:"",state:""},paginator:!1}},mounted:function(){var a=new URL(location.href).searchParams.get("page");a&&""!==a&&(this.pagination.page=a)},methods:{resetMessages:function(){this.warning=!1,this.error=!1},setSortPagination:function(a){this.pagination.sort=a},setPagePagination:function(a){this.pagination.page=a;var t=new URL(document.URL);t.searchParams.set("page",a),document.location.search=t.search},getParams:function(){return"?page="+this.pagination.page+"&limit="+this.pagination.limit+"&q="+this.pagination.q+"&sort="+this.pagination.sort+"&fields="+this.pagination.fields+"&state="+this.pagination.state},load:function(){var a=this;this.resetMessages(),this.carregando=!0,axios.get(this.base_url+this.route+this.getParams()).then(function(t){a.registros=t.data.registros,a.paginator=t.data.pagination,a.registros.length<=0&&(a.warning=!0,a.warningMessage=t.data.msg)}).catch(function(t){a.warning=!0,t.response.data.message?a.warningMessage=t.data.msg:a.warningMessage="Ocorreu um erro. Tente novamente mais tarde.",void 0!==t.response.data.registros&&void 0!==t.response.data.pagination?(a.registros=t.response.data.registros,a.paginator=t.response.data.pagination):(a.registros=[],a.paginator=!1)}).finally(function(){a.carregando=!1})},search:function(a){a.preventDefault(),this.pagination.page=1,this.load()},goToPage:function(a){this.setPagePagination(a),this.load()}}};
